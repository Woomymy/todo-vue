import{d as g,o as p,c as m,a as f,b as O,t as T,e as D,r as S,u as v,w as _,F as y,f as k,g as E,h as A,i as w}from"./vendor.59c4d06e.js";const C=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&u(i)}).observe(document,{childList:!0,subtree:!0});function a(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function u(o){if(o.ep)return;o.ep=!0;const s=a(o);fetch(o.href,s)}};C();var l;(function(t){t.DONE="DONE",t.NOT_STARTED="NOT_STARTED"})(l||(l={}));const I=t=>{switch(t){case l.NOT_STARTED:return"Not started";case l.DONE:return"Done";default:return"Unknown status"}};var R=(t,n)=>{const a=t.__vccOpts||t;for(const[u,o]of n)a[u]=o;return a};const L=g({name:"TodoElement",props:{todo:{type:Object,required:!0}},methods:{removeTodo(t){this.$emit("todoDeletion",t)},markAsDone(t){this.$emit("statusUpdate",t,l.DONE)},markAsUnstarted(t){this.$emit("statusUpdate",t,l.NOT_STARTED)},todoStatusToString:I}}),U=["content","status"],B=f("br",null,null,-1),K=O(" Status: "),F={class:"todo-status"};function M(t,n,a,u,o,s){return p(),m("div",{class:"todo mb-2",content:t.todo.content,status:t.todo.status},[f("p",null,[O(T(t.todo.id)+": "+T(t.todo.content),1),B,K,f("span",F,T(t.todoStatusToString(t.todo.status)),1)]),f("button",{class:"purple-button",type:"button",onClick:n[0]||(n[0]=i=>t.removeTodo(t.todo.id))},"Delete"),t.todo.status!=="DONE"?(p(),m("button",{key:0,class:"green-button",onClick:n[1]||(n[1]=i=>t.markAsDone(t.todo.id))}," Mark as done ")):D("",!0),t.todo.status==="DONE"?(p(),m("button",{key:1,class:"red-button",onClick:n[2]||(n[2]=i=>t.markAsUnstarted(t.todo.id))}," Mark as not done ")):D("",!0)],8,U)}var h=R(L,[["render",M]]);const N="todo_create_input",b="woomy-todo-todos",V=f("h1",{class:"text-center text-4xl mb-4"},"Todo list",-1),j=["id"],q=g({setup(t){const n=e=>(i.value=e,window.localStorage.setItem(b,JSON.stringify(e))),a=()=>JSON.parse(window.localStorage.getItem(b)||"[]"),u=()=>{var c;const e=document.getElementById(N);if(!e||(e==null?void 0:e.value)==="")return;const d=a(),r=(((c=d[d.length-1])==null?void 0:c.id)||0)+1;d.push({content:e.value,id:r,status:l.NOT_STARTED}),console.log(`Adding todo content: ${e==null?void 0:e.value} | id ${r}`),n(d),e.value=""},o=e=>{const d=a();console.log(`Deleting todo ${e}`);const r=d.filter(c=>c.id!=e);n(r)},s=(e,d)=>{console.log(`Changing status of todo ${e} to ${d}`);const r=a(),c=r.findIndex($=>$.id==e);r[c].status=d,n(r)};let i=S(a());return g({name:"App",components:{TodoElement:h}}),(e,d)=>(p(),m(y,null,[V,f("input",{class:"border-indigo-500 border-2 font-mono bg-slate-900 rounded outline-none p-2 mb-3 w-11/12 focus:ring-2 focus:ring-indigo-400",id:v(N),onKeypress:d[0]||(d[0]=_(r=>u(),["enter"]))},null,40,j),(p(!0),m(y,null,k(v(i),r=>(p(),E(h,{todos:v(i),todo:r,key:r.content,onTodoDeletion:o,onStatusUpdate:s},{default:A(()=>[O(T(r.content),1)]),_:2},1032,["todos","todo"]))),128))],64))}});w(q).mount("#app");
