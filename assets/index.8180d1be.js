import{d as v,o as a,c,a as $,t as T,b as m,e as p,w as O,r as S,u as k,F as h,f as A,g as w,h as C,i as I}from"./vendor.249290b0.js";const R=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))f(n);new MutationObserver(n=>{for(const d of n)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&f(u)}).observe(document,{childList:!0,subtree:!0});function i(n){const d={};return n.integrity&&(d.integrity=n.integrity),n.referrerpolicy&&(d.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?d.credentials="include":n.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function f(n){if(n.ep)return;n.ep=!0;const d=i(n);fetch(n.href,d)}};R();var g;(function(t){t.DONE="DONE",t.NOT_STARTED="NOT_STARTED"})(g||(g={}));const _=t=>{switch(t){case g.NOT_STARTED:return"Not started";case g.DONE:return"Done";default:return"Unknown status"}};var L=(t,o)=>{const i=t.__vccOpts||t;for(const[f,n]of o)i[f]=n;return i};const U=v({name:"TodoElement",props:{todo:{type:Object,required:!0}},data(){return{editing:!1}},methods:{removeTodo(t){this.$emit("todoDeletion",t)},markAsDone(t){this.$emit("statusUpdate",t,g.DONE)},markAsUnstarted(t){this.$emit("statusUpdate",t,g.NOT_STARTED)},editTodo(t){const o=document.querySelector(`#edit-${t}`);o.value.trim()!=""&&(this.$emit("todoEdition",t,o.value),this.editing=!1)},todoStatusToString:_}}),B=["content","status"],K={key:0},q=m("br",null,null,-1),F=$(" Status: "),M={class:"todo-status"},V=["id","value"],j={key:2};function J(t,o,i,f,n,d){return a(),c("div",{class:"todo mb-2",content:t.todo.content,status:t.todo.status},[t.editing?p("",!0):(a(),c("p",K,[$(T(t.todo.id)+": "+T(t.todo.content),1),q,F,m("span",M,T(t.todoStatusToString(t.todo.status)),1)])),t.editing?(a(),c("input",{key:1,id:`edit-${t.todo.id}`,class:"text-black bg-gray-200 rounded p-2 mb-2 outline-none focus:ring-2 focus:ring-white",placeholder:"Todo",value:t.todo.content,onKeypress:o[0]||(o[0]=O(u=>t.editTodo(t.todo.id),["enter"]))},null,40,V)):p("",!0),t.editing===!0?(a(),c("br",j)):p("",!0),t.editing===!1?(a(),c("button",{key:3,class:"blue-button",type:"button",onClick:o[1]||(o[1]=u=>t.editing=!0)},"Edit")):p("",!0),t.editing===!0?(a(),c("button",{key:4,class:"red-button",type:"button",onClick:o[2]||(o[2]=u=>t.editing=!1)},"Cancel")):p("",!0),m("button",{class:"purple-button",type:"button",onClick:o[3]||(o[3]=u=>t.removeTodo(t.todo.id))},"Delete"),t.todo.status!=="DONE"?(a(),c("button",{key:5,class:"green-button",onClick:o[4]||(o[4]=u=>t.markAsDone(t.todo.id))}," Mark as done ")):p("",!0),t.todo.status==="DONE"?(a(),c("button",{key:6,class:"red-button",onClick:o[5]||(o[5]=u=>t.markAsUnstarted(t.todo.id))}," Mark as not done ")):p("",!0)],8,B)}var D=L(U,[["render",J]]);const E="todo_create_input",N="woomy-todo-todos",P=m("h1",{class:"text-center text-4xl mb-4"},"Todo list",-1),G=["id"],Y=v({setup(t){const o=e=>(y.value=e,window.localStorage.setItem(N,JSON.stringify(e))),i=()=>JSON.parse(window.localStorage.getItem(N)||"[]"),f=()=>{var l;const e=document.getElementById(E);if(!e||(e==null?void 0:e.value)==="")return;const r=i(),s=(((l=r[r.length-1])==null?void 0:l.id)||0)+1;r.push({content:e.value,id:s,status:g.NOT_STARTED}),console.log(`Adding todo content: ${e==null?void 0:e.value} | id ${s}`),o(r),e.value=""},n=e=>{const r=i();console.log(`Deleting todo ${e}`);const s=r.filter(l=>l.id!=e);o(s)},d=(e,r)=>{console.log(`Changing status of todo ${e} to ${r}`);const s=i(),l=s.findIndex(b=>b.id==e);s[l].status=r,o(s)},u=(e,r)=>{console.log(`Changing content of ${e} with ${r}`);const s=i(),l=s.findIndex(b=>b.id==e);!l&&l!=0||(s[l].content=r,o(s))};let y=S(i());return v({name:"App",components:{TodoElement:D}}),(e,r)=>(a(),c(h,null,[P,m("input",{class:"border-indigo-500 border-2 font-mono bg-slate-900 rounded outline-none p-2 mb-3 w-11/12 focus:ring-2 focus:ring-indigo-400",id:k(E),onKeypress:r[0]||(r[0]=O(s=>f(),["enter"]))},null,40,G),(a(!0),c(h,null,A(k(y),s=>(a(),w(D,{todos:k(y),todo:s,key:s.content,onTodoDeletion:n,onStatusUpdate:d,onTodoEdition:u},{default:C(()=>[$(T(s.content),1)]),_:2},1032,["todos","todo"]))),128))],64))}});I(Y).mount("#app");
