import{d as v,o as u,c as l,a as $,t as T,b as m,e as f,w as O,r as S,u as k,F as D,f as A,g as w,h as C,i as I}from"./vendor.249290b0.js";const R=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))p(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&p(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function p(n){if(n.ep)return;n.ep=!0;const r=a(n);fetch(n.href,r)}};R();var g;(function(t){t.DONE="DONE",t.NOT_STARTED="NOT_STARTED"})(g||(g={}));const K=t=>{switch(t){case g.NOT_STARTED:return"Not started";case g.DONE:return"Done";default:return"Unknown status"}};var L=(t,o)=>{const a=t.__vccOpts||t;for(const[p,n]of o)a[p]=n;return a};const U=v({name:"TodoElement",props:{todo:{type:Object,required:!0}},data(){return{editing:!1}},methods:{removeTodo(t){this.$emit("todoDeletion",t)},markAsDone(t){this.$emit("statusUpdate",t,g.DONE)},markAsUnstarted(t){this.$emit("statusUpdate",t,g.NOT_STARTED)},editTodo(t){const o=document.querySelector(`#edit-${t}`);o.value.trim()!=""&&(this.$emit("todoEdition",t,o.value),this.editing=!1)},todoStatusToString:K}}),B=["content","status"],q={key:0},F=m("br",null,null,-1),M=$(" Status: "),V={class:"todo-status"},j=["id","value"],J={key:2};function P(t,o,a,p,n,r){return u(),l("div",{class:"todo mb-2",content:t.todo.content,status:t.todo.status},[t.editing?f("",!0):(u(),l("p",q,[$(T(t.todo.id)+": "+T(t.todo.content),1),F,M,m("span",V,T(t.todoStatusToString(t.todo.status)),1)])),t.editing?(u(),l("input",{key:1,id:`edit-${t.todo.id}`,class:"w-2/4 text-black bg-gray-200 rounded p-2 mb-2 outline-none focus:ring-2 focus:ring-white",placeholder:"Todo",value:t.todo.content,onKeypress:o[0]||(o[0]=O(i=>t.editTodo(t.todo.id),["enter"]))},null,40,j)):f("",!0),t.editing===!0?(u(),l("br",J)):f("",!0),t.editing===!1?(u(),l("button",{key:3,class:"blue-button",type:"button",onClick:o[1]||(o[1]=i=>t.editing=!0)},"Edit")):f("",!0),t.editing===!0?(u(),l("button",{key:4,class:"blue-button",type:"button",onClick:o[2]||(o[2]=i=>t.editTodo(t.todo.id))},"OK")):f("",!0),t.editing===!0?(u(),l("button",{key:5,class:"red-button",type:"button",onClick:o[3]||(o[3]=i=>t.editing=!1)},"Cancel")):f("",!0),m("button",{class:"purple-button",type:"button",onClick:o[4]||(o[4]=i=>t.removeTodo(t.todo.id))},"Delete"),t.todo.status!=="DONE"?(u(),l("button",{key:6,class:"green-button",onClick:o[5]||(o[5]=i=>t.markAsDone(t.todo.id))}," Mark as done ")):f("",!0),t.todo.status==="DONE"?(u(),l("button",{key:7,class:"red-button",onClick:o[6]||(o[6]=i=>t.markAsUnstarted(t.todo.id))}," Mark as not done ")):f("",!0)],8,B)}var h=L(U,[["render",P]]);const E="todo_create_input",N="woomy-todo-todos",_=m("h1",{class:"text-center text-4xl mb-4"},"Todo list",-1),G=["id"],Y=v({setup(t){const o=e=>(b.value=e,window.localStorage.setItem(N,JSON.stringify(e))),a=()=>JSON.parse(window.localStorage.getItem(N)||"[]"),p=()=>{var c;const e=document.getElementById(E);if(!e||(e==null?void 0:e.value)==="")return;const d=a(),s=(((c=d[d.length-1])==null?void 0:c.id)||0)+1;d.push({content:e.value,id:s,status:g.NOT_STARTED}),console.log(`Adding todo content: ${e==null?void 0:e.value} | id ${s}`),o(d),e.value=""},n=e=>{const d=a();console.log(`Deleting todo ${e}`);const s=d.filter(c=>c.id!=e);o(s)},r=(e,d)=>{console.log(`Changing status of todo ${e} to ${d}`);const s=a(),c=s.findIndex(y=>y.id==e);s[c].status=d,o(s)},i=(e,d)=>{console.log(`Changing content of ${e} with ${d}`);const s=a(),c=s.findIndex(y=>y.id==e);!c&&c!=0||(s[c].content=d,o(s))};let b=S(a());return v({name:"App",components:{TodoElement:h}}),(e,d)=>(u(),l(D,null,[_,m("input",{class:"border-indigo-500 border-2 font-mono bg-slate-900 rounded outline-none p-2 mb-3 w-11/12 focus:ring-2 focus:ring-indigo-400",id:k(E),onKeypress:d[0]||(d[0]=O(s=>p(),["enter"]))},null,40,G),(u(!0),l(D,null,A(k(b),s=>(u(),w(h,{todos:k(b),todo:s,key:s.content,onTodoDeletion:n,onStatusUpdate:r,onTodoEdition:i},{default:C(()=>[$(T(s.content),1)]),_:2},1032,["todos","todo"]))),128))],64))}});I(Y).mount("#app");
